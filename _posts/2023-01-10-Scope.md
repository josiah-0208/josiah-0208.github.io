---
layout: single
title: "Scope_변수의 사용 범위"

toc: true
toc_sticky: true
---

# 'Scope란?'

Scope를 직역하면 '범위'이다

js 뿐만 아니라, 모든 언어에서는

변수 즉 식별자를 쓸 수 있는 범위다

변수에 접근할 수 있는 범위
이름이 같은 변수여도 가져오는 기준을

어떤건 전역으로 선언되고
어떤건 함수 안에 선언될 수 있다.
js에서는 두번 선언이 가능하다.

이 방법을 알아야 개발자가 예측 가능한 오류를 최소화 할 수 있다.

js가 식별자 변수를 어떤 기준으로 스코프를 잡는지 알아야 한다.

```js
var x = 0

function block() {
    var x = 1
    console.log(x)
}

block()          ---   1
console.log(x)   ---   0
```

이름이 같은 변수 x가 중복 선언되었다. 전역에서 변수 x를 참조할 때, 그리고 함수 foo 내부에서 변수 x를 참조할 때 이름이 중복된 2개의 변수 중 어떤 변수를 참조해야 하는가? 자바스크립트는 어떻게 변수를 식별하는 것일까?

스코프는 참조 대상 식별자(identifier, 변수, 함수의 이름과 같이 어떤 대상을 다른 대상과 구분하여 식별할 수 있는 유일한 이름)를 찾아내기 위한 규칙이다. 자바스크립트는 이 규칙대로 식별자를 찾는다.

프로그래밍은 변수를 선언하고 값을 할당하며 변수를 참조하는 기본적인 기능을 제공하며 이것으로 프로그램의 상태를 관리할 수 있다. 변수는 전역 또는 코드 블록(if, for, while, try/catch 등)이나 함수 내에 선언하며 코드 블록이나 함수는 중첩될 수 있다. 식별자는 자신이 어디에서 선언됐는지에 의해 자신이 유효한(다른 코드가 자신을 참조할 수 있는) 범위를 갖는다.

위 예제에서 전역에 선언된 변수 x는 어디에든 참조할 수 있다. 하지만 함수 foo 내에서 선언된 변수 x는 함수 foo 내부에서만 참조할 수 있고 함수 외부에서는 참조할 수 없다. 이러한 규칙을 스코프라고 한다.
만약 스코프가 없다면 어떻게 될까? 스코프가 없다면 같은 식별자 이름은 충돌을 일으키므로 프로그램 전체에서 하나밖에 사용할 수 없다. 디렉터리가 없는 컴퓨터를 생각해보자. 디렉터리가 없다면 같은 이름을 갖는 파일을 하나밖에 만들 수 없다. 스코프도 이와 같이 식별자 이름의 충돌을 방지한다.

전역

C를 배울 때는 블록 안에 있는 것을 기준으로 했었다.
이게 편했었는데, `let`을 쓰면 블록레벨로 가능하다고 한다.


스코프 타입이 2가지가 있다.
전역(global)과 지역(local)이다.
모든 변수는 스코프를 갖는다. 

전역 변수 (Global variable)
전역에서 선언된 변수이며 어디에든 참조할 수 있다.
지역 변수 (Local variable)
지역(함수) 내에서 선언된 변수이며 그 지역과 그 지역의 하부 지역에서만 참조할 수 있다.
변수는 선언 위치(전역 또는 지역)에 의해 스코프를 가지게 된다. 즉, 전역에서 선언된 변수는 전역 스코프를 갖는 전역 변수이고, 지역(자바스크립트의 경우 함수 내부)에서 선언된 변수는 지역 스코프를 갖는 지역 변수가 된다.

전역 스코프를 갖는 전역 변수는 전역(코드 어디서든지)에서 참조할 수 있다. 지역(함수 내부)에서 선언된 지역 변수는 그 지역과 그 지역의 하부 지역에서만 참조할 수 있다.


사실 참조한 블로그글에서 끝내주게 잘 정리되어 있었다.

참조
https://poiemaweb.com/js-scope